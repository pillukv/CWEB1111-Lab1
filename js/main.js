var data = [
    {
      "name": "LeBron James",
      "voted": "starter",
      "captain": "lebron",
      "number": 23,
      "team": "CLE",
      "position": "Forward",
      "points_per_game": 26.6,
      "assists_per_game": 8.7,
      "rebounds_per_game": 7.9,
      "true_shooting_rate": 0.623,
      "WS": 7.9,
      "BPM": 8.7,
      "VORP": 5
    },
    {
      "name": "DeMarcus Cousins",
      "voted": "starter",
      "captain": "lebron",
      "number": 0,
      "team": "NOP",
      "position": "Center",
      "points_per_game": 25.2,
      "assists_per_game": 5.4,
      "rebounds_per_game": 12.9,
      "true_shooting_rate": 0.583,
      "WS": 4.7,
      "BPM": 5.2,
      "VORP": 3.1
    },
    {
      "name": "Anthony Davis",
      "voted": "starter",
      "captain": "lebron",
      "number": 23,
      "team": "NOP",
      "position": "Forward",
      "points_per_game": 26.4,
      "assists_per_game": 2.6,
      "rebounds_per_game": 10.6,
      "true_shooting_rate": 0.627,
      "WS": 8.1,
      "BPM": 4.7,
      "VORP": 2.7
    },
    {
      "name": "Kevin Durant",
      "voted": "starter",
      "captain": "lebron",
      "number": 35,
      "team": "GSW",
      "position": "Forward",
      "points_per_game": 25.6,
      "assists_per_game": 5.6,
      "rebounds_per_game": 6.9,
      "true_shooting_rate": 0.626,
      "WS": 6.3,
      "BPM": 5.3,
      "VORP": 2.8
    },
    {
      "name": "Kyrie Irving",
      "voted": "starter",
      "captain": "lebron",
      "number": 11,
      "team": "BOS",
      "position": "Guard",
      "points_per_game": 24.9,
      "assists_per_game": 5,
      "rebounds_per_game": 3.7,
      "true_shooting_rate": 0.601,
      "WS": 7.4,
      "BPM": 6,
      "VORP": 3.2
    },
    {
      "name": "LaMarcus Aldridge",
      "voted": "reserve",
      "captain": "lebron",
      "number": 12,
      "team": "SAS",
      "position": "Forward",
      "points_per_game": 22.4,
      "assists_per_game": 1.9,
      "rebounds_per_game": 8.5,
      "true_shooting_rate": 0.556,
      "WS": 6.9,
      "BPM": 2.2,
      "VORP": 1.8
    },
    {
      "name": "Bradley Beal",
      "voted": "reserve",
      "captain": "lebron",
      "number": 3,
      "team": "WAS",
      "position": "Guard",
      "points_per_game": 23.8,
      "assists_per_game": 3.9,
      "rebounds_per_game": 4.4,
      "true_shooting_rate": 0.568,
      "WS": 5,
      "BPM": 2.1,
      "VORP": 1.9
    },
    {
      "name": "Andre Drummond",
      "voted": "reserve",
      "captain": "lebron",
      "number": 0,
      "team": "DET",
      "position": "Center",
      "points_per_game": 14.8,
      "assists_per_game": 3.9,
      "rebounds_per_game": 15.3,
      "true_shooting_rate": 0.574,
      "WS": 6.6,
      "BPM": 7.3,
      "VORP": 3.7
    },
    {
      "name": "Paul George",
      "voted": "reserve",
      "captain": "lebron",
      "number": 13,
      "team": "OKC",
      "position": "Forward",
      "points_per_game": 21.3,
      "assists_per_game": 2.9,
      "rebounds_per_game": 5.5,
      "true_shooting_rate": 0.579,
      "WS": 5.7,
      "BPM": 2.7,
      "VORP": 2.1
    },
    {
      "name": "Kevin Love",
      "voted": "reserve",
      "captain": "lebron",
      "number": 0,
      "team": "CLE",
      "position": "Forward",
      "points_per_game": 17.9,
      "assists_per_game": 1.6,
      "rebounds_per_game": 9.4,
      "true_shooting_rate": 0.613,
      "WS": 5.3,
      "BPM": 1.1,
      "VORP": 1.1
    },
    {
      "name": "Victor Oladipo",
      "voted": "reserve",
      "captain": "lebron",
      "number": 4,
      "team": "IND",
      "position": "Guard",
      "points_per_game": 23.9,
      "assists_per_game": 4.1,
      "rebounds_per_game": 5.2,
      "true_shooting_rate": 0.595,
      "WS": 5.4,
      "BPM": 4.3,
      "VORP": 2.6
    },
    {
      "name": "Kristaps Porzingis",
      "voted": "reserve",
      "captain": "lebron",
      "number": 6,
      "team": "NYK",
      "position": "Forward",
      "points_per_game": 23.1,
      "assists_per_game": 1.3,
      "rebounds_per_game": 6.6,
      "true_shooting_rate": 0.539,
      "WS": 3.5,
      "BPM": -0.3,
      "VORP": 0.6
    },
    {
      "name": "John Wall",
      "voted": "reserve",
      "captain": "lebron",
      "number": 2,
      "team": "WAS",
      "position": "Guard",
      "points_per_game": 19.4,
      "assists_per_game": 9.3,
      "rebounds_per_game": 3.6,
      "true_shooting_rate": 0.511,
      "WS": 2.6,
      "BPM": 1.6,
      "VORP": 1.2
    },
    {
      "name": "Russell Westbrook",
      "voted": "reserve",
      "captain": "lebron",
      "number": 0,
      "team": "OKC",
      "position": "Guard",
      "points_per_game": 25.5,
      "assists_per_game": 10.1,
      "rebounds_per_game": 9.4,
      "true_shooting_rate": 0.516,
      "WS": 6.7,
      "BPM": 8.7,
      "VORP": 4.9
    },
    {
      "name": "Giannis Antetokounmkpo",
      "voted": "starter",
      "captain": "stephen",
      "number": 34,
      "team": "MIL",
      "position": "Forward",
      "points_per_game": 28.5,
      "assists_per_game": 4.7,
      "rebounds_per_game": 10.3,
      "true_shooting_rate": 0.618,
      "WS": 8.8,
      "BPM": 7.3,
      "VORP": 4
    },
    {
      "name": "Stephen Curry",
      "voted": "starter",
      "captain": "stephen",
      "number": 30,
      "team": "GSW",
      "position": "Guard",
      "points_per_game": 27.7,
      "assists_per_game": 6.5,
      "rebounds_per_game": 5.1,
      "true_shooting_rate": 0.675,
      "WS": 7.1,
      "BPM": 8.8,
      "VORP": 3.3
    },
    {
      "name": "DeMar DeRozan",
      "voted": "starter",
      "captain": "stephen",
      "number": 10,
      "team": "TOR",
      "position": "Guard",
      "points_per_game": 24.4,
      "assists_per_game": 5.2,
      "rebounds_per_game": 4.1,
      "true_shooting_rate": 0.566,
      "WS": 6.6,
      "BPM": 2.6,
      "VORP": 2
    },
    {
      "name": "Joel Embiid",
      "voted": "starter",
      "captain": "stephen",
      "number": 21,
      "team": "PHI",
      "position": "Center",
      "points_per_game": 23.8,
      "assists_per_game": 3.3,
      "rebounds_per_game": 11,
      "true_shooting_rate": 0.584,
      "WS": 3.8,
      "BPM": 2.6,
      "VORP": 1.4
    },
    {
      "name": "James Harden",
      "voted": "starter",
      "captain": "stephen",
      "number": 13,
      "team": "HOU",
      "position": "Guard",
      "points_per_game": 31.6,
      "assists_per_game": 9.1,
      "rebounds_per_game": 5,
      "true_shooting_rate": 0.622,
      "WS": 9.3,
      "BPM": 10.6,
      "VORP": 4.8
    },
    {
      "name": "Jimmy Butler",
      "voted": "reserve",
      "captain": "stephen",
      "number": 23,
      "team": "MIN",
      "position": "Guard",
      "points_per_game": 21.8,
      "assists_per_game": 5,
      "rebounds_per_game": 5.4,
      "true_shooting_rate": 0.589,
      "WS": 7.4,
      "BPM": 5,
      "VORP": 3.1
    },
    {
      "name": "Draymond Green",
      "voted": "reserve",
      "captain": "stephen",
      "number": 23,
      "team": "GSW",
      "position": "Forward",
      "points_per_game": 11.3,
      "assists_per_game": 7.3,
      "rebounds_per_game": 7.9,
      "true_shooting_rate": 0.567,
      "WS": 4.3,
      "BPM": 3.8,
      "VORP": 2.1
    },
    {
      "name": "Al Horford",
      "voted": "reserve",
      "captain": "stephen",
      "number": 42,
      "team": "BOS",
      "position": "Center",
      "points_per_game": 13.3,
      "assists_per_game": 5.3,
      "rebounds_per_game": 7.9,
      "true_shooting_rate": 0.588,
      "WS": 6,
      "BPM": 5.1,
      "VORP": 2.7
    },
    {
      "name": "Damian Lillard",
      "voted": "reserve",
      "captain": "stephen",
      "number": 0,
      "team": "POR",
      "position": "Guard",
      "points_per_game": 25.2,
      "assists_per_game": 6.5,
      "rebounds_per_game": 4.7,
      "true_shooting_rate": 0.591,
      "WS": 6.8,
      "BPM": 5.7,
      "VORP": 3.1
    },
    {
      "name": "Kyle Lowry",
      "voted": "reserve",
      "captain": "stephen",
      "number": 7,
      "team": "TOR",
      "position": "Guard",
      "points_per_game": 16.4,
      "assists_per_game": 6.6,
      "rebounds_per_game": 6,
      "true_shooting_rate": 0.583,
      "WS": 5.4,
      "BPM": 5,
      "VORP": 2.7
    },
    {
      "name": "Klay Thompson",
      "voted": "reserve",
      "captain": "stephen",
      "number": 11,
      "team": "GSW",
      "position": "Guard",
      "points_per_game": 20.3,
      "assists_per_game": 2.6,
      "rebounds_per_game": 4,
      "true_shooting_rate": 0.606,
      "WS": 3.8,
      "BPM": -0.1,
      "VORP": 0.8
    },
    {
      "name": "Karl-Anthony Towns",
      "voted": "reserve",
      "captain": "stephen",
      "number": 32,
      "team": "MIN",
      "position": "Center",
      "points_per_game": 19.8,
      "assists_per_game": 2.3,
      "rebounds_per_game": 12.1,
      "true_shooting_rate": 0.636,
      "WS": 8.5,
      "BPM": 5,
      "VORP": 3.4
    }
  ]
console.log(data)
//Creating an array for each team and sorting each player object into the correct array
var teamLebronArray = [];
var teamStephenArray = [];
for (i = 0; i < data.length; i++) {
    if (data[i].captain == 'lebron') {
        teamLebronArray.push(data[i]);
    } else {
        teamStephenArray.push(data[i]);
    }
}

//Function for determining the Points Per Game and True Shooting Percentage of each player in an array
function scoringScatterPoints(playerArray) {
    scoringArray = [];
    scoringObject = {};
    for (i = 0; i < playerArray.length; i++) {
        scoringObject.x = playerArray[i].true_shooting_rate;
        scoringObject.y = playerArray[i].points_per_game;
        scoringArray.push(scoringObject);
        scoringObject = {};
    }
    return scoringArray;
}

//Function for calculating the average values of the advanced statistics of an array of players
function advancedStatisticsAverage(playerArray) {
    totalWS = 0;
    totalBPM = 0;
    totalVORP = 0;
    for (i = 0; i < playerArray.length; i++) {
        totalWS += playerArray[i].WS;
        totalBPM += playerArray[i].BPM;
        totalVORP += playerArray[i].VORP;
    }
    averageWS = (totalWS/playerArray.length).toFixed(2);
    averageBPM = (totalBPM/playerArray.length).toFixed(2);
    averageVORP = (totalVORP/playerArray.length).toFixed(2);
    averageValuesArray = [averageWS, averageBPM, averageVORP];
    return averageValuesArray;
}


const CHART1 = document.getElementById("chart1");
let scoringScatterChart = new Chart(CHART1, {
    type: 'scatter',
    data: {
        datasets: [
            {
                label: 'Team LeBron',
                backgroundColor: 'rgba(128,0,0,.7)',
                borderColor: 'rgba(128,0,0,1)',
                pointBackgroundColor: 'rgba(128,0,0,.7)',
                pointBorderColor: 'rgba(128,0,0,1)',
                borderWidth: 3,
                data: scoringScatterPoints(teamLebronArray)
            },
            {
                label: 'Team Stephen',
                backgroundColor: 'rgba(36,62,144,.7)',
                borderColor: 'rgba(36,62,144,1)',
                pointBackgroundColor: 'rgba(36,62,144,.7)',
                pointBorderColor: 'rgba(36,62,144,1)',
                borderWidth: 3,
                data: scoringScatterPoints(teamStephenArray)
            }
        ]
    },    
});

Chart.defaults.scale.ticks.beginAtZero = true;

const CHART2 = document.getElementById("chart2");
let advancedStatisticsChart = new Chart(CHART2, {
    type: 'bar',
    data: {
        labels: ['WS', 'BPM', 'VORP'],
        datasets: [
            {
                label: 'Team LeBron',
                backgroundColor: 'rgba(128,0,0,.7)',
                borderColor: 'rgba(128,0,0,1)',
                borderWidth: 3,
                hoverBackgroundColor: 'rgba(128,0,0,1)',
                data: advancedStatisticsAverage(teamLebronArray)
            },
            {
                label: 'Team Stephen',
                backgroundColor: 'rgba(36,62,144,.7)',
                borderColor: 'rgba(36,62,144,1)',
                borderWidth: 3,
                hoverBackgroundColor: 'rgba(36,62,144,1)',
                data: advancedStatisticsAverage(teamStephenArray)
            }
        ]
    },
});


